#!/bin/sh

BIN=`dirname $0`
. "$BIN/brisk-env.sh"

if [ "x$1" = "xcassandra" ]; then
    shift
    $CASSANDRA_HOME/bin/cassandra $*
    exit $?
fi

if [ "x$1" = "xhadoop" ]; then
    shift
    $HADOOP_HOME/bin/hadoop $*
    exit $?
fi

if [ "x$1" = "xpig" ]; then
    shift
    $PIG_HOME/bin/pig $*
    exit $?
fi

if [ "x$1" = "xhive" ]; then
    shift

    #we need to remove the conflicting antlr jar
    export CLASSPATH=`echo $CLASSPATH | sed -E "s/antlr|slf4j/dne/g"`
    export HADOOP_CLASSPATH=$CLASSPATH
    
    $HIVE_HOME/bin/hive $*
    exit $?
fi

echo "$0: cassandra [options] | hadoop [options] | hive [options] | pig [options]"
exit 1

# vi:ai sw=4 ts=4 tw=0 et
